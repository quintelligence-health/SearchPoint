package si.ijs.searchpoint;

import java.io.IOException;

public class SearchPoint {

	private static final SearchPoint instance = new SearchPoint();
	
	static {
		try {
			System.loadLibrary("SearchPointJava");
		} catch (UnsatisfiedLinkError e) {
			e.printStackTrace();
			System.exit(1);
		}
	}
	
	public static synchronized SearchPoint getInstance() {
		if (instance == null)
			instance = new SearchPoint();
		return instance; 
	};
	
	private SearchPoint() throws IOException {
		init();
	}
	
	private native void init() throws IOException;
	
	public native String processQuery(String query, String clustKey, int limit);
	
	public native String rankByPos(double x, double y, int page, String queryId);
	
	public native String fetchKeywords(double x, double y, String queryId);
	
	public native void close();
}
